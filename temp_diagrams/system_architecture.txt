```mermaid
graph TD
    %% 核心组件
    RS[推荐系统<br>recommendation_system.py] --> PT[问题树<br>problem_tree.py]
    RS --> CG[类别图<br>category_graph.py]
    RS --> CE[代码评估<br>evaluate_solution方法]
    
    %% 数据存储
    PJ[problems.json<br>题目库] --> RS
    UP[user_progress.json<br>用户进度] --> RS
    UP --> CE
    
    %% 外部API
    API[OpenAI API<br>GPT-4o] --> CE
    
    %% 用户解决方案
    Sol[用户解决方案<br>/solutions] <--> RS
    
    %% 子系统
    subgraph 推荐策略
    IS[初始阶段策略] --> RS
    CS[类别探索策略] --> RS
    PS[性能导向策略] --> RS
    end
    
    subgraph 评分系统
    CE --> C[正确性评分<br>2.5分]
    CE --> E[边界情况处理<br>2分]
    CE --> T[时间复杂度<br>3.5分]
    CE --> S[空间复杂度<br>2分]
    end
    
    %% 可选组件
    CodeEval[独立代码评估器<br>code_evaluation.py] -.-> Alt[备用评估系统]
    
    %% 样式
    classDef core fill:#f9d,stroke:#333,stroke-width:2px;
    classDef data fill:#bbf,stroke:#333,stroke-width:1px;
    classDef api fill:#bfb,stroke:#333,stroke-width:1px;
    
    class RS,PT,CG,CE core;
    class PJ,UP,Sol data;
    class API api;
``` 